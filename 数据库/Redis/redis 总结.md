时间：2018/12/8 23:22:25  

## Redis 汇总

### 总结  

Redis 作为 `Key/value` 内存数据库存储。单线程执行保证多个命令不会同时执行，同时数据读取速度也比较快，在项目中常被用于热点数据缓存，同时结合 Redis 提供的数据结构可以快速的实现一些特性，比如排行榜、分布式锁等。提供数据持久化方式，当Redis重启时会从磁盘读取数据。   

在使用Redis作为数据存储的时候，比较重要的一点时根据业务设计对应的 key，从而达到数据关联的作用。

Redis 的每个命令都有相关的时间复杂度，在使用的时候我们可以参考时间复杂度来确保我们的业务的运行时间不会超出我们允许的时间范围。

### 数据结构  

* `String`: 字符串。
	* `incr`: 计数器，全局唯一ID生成器。
	* `bitset`: 以较少的内存判断数据是否存在。
* List：链表，可以实现列表、队列、栈、阻塞队列等。
* Hash：结构化数据存储，对象（字段1，字段2，字段3 ...）。可结合set实现高级的排序功能。
* Set：无序集合，可以用于存放集合数据，或者从集合中随机拿出一个元素，集合的并集、交集合差集等。
* SortedSet：有序集合，常用于实现排行榜等。
* HyperLogLogs：判断元素是否存在，不存在的元素一定不存在，存在的元素有一定的概率不存在。
* Geo：地理位置信息，假设地球是一个标准的球体，用于粗略计算不同经纬度之间的距离。

### 基本特性   

* key 过期时间： 通过设定过期时间，到过期时间之后key自动被删除。
* 订阅/发布模式：实现简单的订阅和发布模式。
* 单线程：单线程执行，避免多线程同步问题。
* 集群模式：解决单节点容量问题。
* 主备模式：提高集群可用性。
* 哨兵模式：监控集群状况，当集群节点异常时推送信息。
* Lua脚本：嵌入式脚本，提供Redis的扩展性。
* key 变更事件通知。  



