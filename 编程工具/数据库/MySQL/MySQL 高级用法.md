时间：2019/6/23 21:10:54  

## MySQL 高级用法    

MySQL 支持变量，函数，存储过程等高级用法，在特定场景下可以帮助快速解决问题。但是高级用法依赖数据库的特性，不同的数据库特性可能有差别。另外存储过程、触发器、函数的定义都在数据库服务器上，对程序来说是不可见的，当出现问题的时候排查问题会非常复杂。因此不推荐使用。

一般情况，可以考虑程序内部计算代替数据库的函数，变量等。

## 自定义变量  

不使用自定义变量可以解决大部分查询问题。也可以使用内存计算代替自定义变量。不到逼不得已不要使用变量。

用户自定义变量在当前连接中有效。不同的客户端到服务端的链接不能共享使用用户自定义变量。

1. 变量赋值。  

		SET @var_name := expr

2. 变量递增。

		SELECT @num := @num + 1 FROM table_name;

3. 链接字符串。

		SET @prefix := 'prefix_';		
		SELECT CONCAT(@prefix, file_info.file_name_) FROM file_info;