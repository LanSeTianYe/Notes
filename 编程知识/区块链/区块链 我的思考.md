时间：2022-07-20 09:57:57

## 区块链 我的思考

### 2022-07-20

目前对区块链了解不是特别全面，只有联盟链的工作经验，对公链的了解可能还停留在比较落后的阶段，先记录一下，等到有更深入的了解之后在补充完善。

目前区跨链发展到 NFT（Non-Fungible Token），即目前所熟知的数字藏品。

区块链之所以能发展起来，是因为有太多人向从中获利，导致比特币价格飙升。因此有越来越多的人参与进来。

区跨链的去中心化导致资源的浪费，相同的交易需要在所有的机器上执行，验证，通过这些计算资源保证共识机制的可信性。由于挖矿机制的存在，导致矿工机器的性能越来越高，慢慢的挖矿机器变成了一个超级计算机。

和分布式系统，通过增加节点提高服务效率，是两个完全相反的方向。

区块链天生不适用于高性能、大存储的场景。性能受限于共识机制，对于POW（Proof Of Work）来说挖矿难度影响着出块速度，即性能。存储受限于单节点的磁盘容量，因此账本的大小是不断增加的，如果账本大小增加过快，会导致能加入网络的节点数量变少，如果节点过少，共识的可信性将变低（有能力控制大部分节点，制造假的共识，更改数据）。

区块链从创世块开始，通过一笔一笔的交易改变整个系统的状态，可以同通过回放交易重建整个系统的状态。

## 区块链1.0

[比特币节点分布](https://bitnodes.io/nodes/#network-snapshot)

**目标：**分布式账本。

**存储：**区块信息存（区块信息+区块里面交易的默克尔树）储在磁盘中，UTXO存储在节点的内存中。

**挖矿**：找到 `区块信息+随机数` 的哈希值小于目标的随机数。

比特币因为可以匿名交易而发展起来，被用于非法交易，如枪支、毒品，洗钱等。当比特币价值升高之后，人们从中看到了利益。矿工越来越多，从比特币中获益的人越来越多，比特币的知名度也越来越高，比特币的价值也越来越高，热点加炒作，慢慢的比特币的价值一飞冲天。

在国内国家禁止参与比特币交易。目前比特币的价值有一定的回落，但是还很高 $23000 左右。

比特币的核心在于**分布式记账**，匿名交易。而不在于记账速度。

比特币的设计理念是简介，用UTXO(Unspend Trasaction Output 未花费交易列表)保存所有没有使用的交易列表，根据这个列表可以推计算出地址拥有的比特币。

## 区跨链2.0 

[以太坊节点分布](https://etherscan.io/nodetracker)

**目标：**世界计算机。

**存储**：区块（区块信息、账户状态MPT、交易MPT、收据MPT）存储在磁盘中。

**挖矿**：给一个随机种子，生成一个缓存16M，根据缓存和下标生成1G的大数据集，从内存中找一批数据使得计算出的哈希值小于给定目标。后面会转到 Pos(Proof of stake)，一直说要转，目前还没有转。

以太坊目前是发展的最好的区跨链2.0平台，目标是去中心化应用平台。就像以太坊白皮书里面列举的例子一样域名服务、投票、赌博、对冲等金融相关，需要记账的应用比较适合在以太坊上运行。

目前已经有一些运行于以太坊的DAPP（Decentralized Application）。

目前有很多NFT产品，市场不规范，导致很多产品发布之后，发行发收到钱之后，不再维护平台，提取资金之后跑路的情况经常发生。大多数都是炒作概念，和炒鞋是一个概念。

以太坊的节点个数目前正在减少，挖矿的节点都会加入一些矿池。

## 联盟链

### 2022-07-20

联盟链的控制权掌握在联盟组成的机构手里，每个机构拥有部分节点。共识不需要Pow，使用常用的共识算法，如：TBFT、RAFT、PBFT、HOTSTUFF（流水线共识），因此性能较公链性能更高一点。

联盟链普遍节点数量都不多，如果退化成单节点分布式记账应用会不会更好。单节点就可以随意更改链上数据，相对来说还是多节点好一点。