时间：2021-07-29 10:08:08

参考：

1 .  《计算机网络》谢希仁

## TCP 协议

TCP 传输层协议，面向连接，提供可靠的数据传输，全双工模式。

### TCP 数据传输

首先通过三次握手建立连接，第三次握手是为了避免在网络中延迟的建立连接的请求。

发送端有发送缓存，接收端有接收缓存。发送端缓存按序缓存需要发送的数据，接收端缓存按序缓存收到的数据。发送端从缓存中取出数据发送，接收端只能从缓存中读取连续的数据，这保证了数据按序到达。

当有数据丢失时，接收端会在超时没有收到接收端的确认请求后重发数据。接收端也可以连续发送多次同一个序号的确认信息，发送端收到多次确认后会重传确认序号之后的数据。

流量控制，接收端每次发送确认消息之后都会告诉接收端自己剩余可用窗口的大小，接收端根据可用窗口大小控制发送数据的大小。为了避免控制消息丢失，当接收端收到的剩余窗口大小为0后长时间没有收到窗口大小变更消息，会发送控制消息给接收端请求窗口大小。

拥塞控制：当接收端长时间没有收到对应数据的确认消息时，可以认为网络出现拥塞，发送端减小发送的数据大小。

最终通过四次挥手关闭建立的连接，连接关闭后会保留一段时间。

## UDP 协议

UDP 传输层协议，无连接，不是可靠的数据传输，全双工模式。UDP不提供拥塞控制。


