##  
时间：2017/5/9 14:48:12  
参考：

1.  [数据库设计14个注意事项](http://blog.sina.com.cn/s/blog_489ce99d0101h0bi.html)

## 命名
1. 数据库名、表名和列名全部小写字母，多个单词用 `_` 分割。 
2. 数据库名、表名和列名要能准确的表达含义。
3. 列名不要和数据库关键字重复。  

		//数据库名
		xiao_tian（项目名）
		// 表名
		user_phpoto
		//列名
		create_date

MySql在Linux下区分大小写，在Windows下不区分大小写。

在Linux下：

 * 数据库名与表名区分大小写。
 * 表的别名区分大小写。
 * 变量名区分大小写的
 * 列名与列的别名忽略大小写。

## 字段长度
1. 合理设计字段长度以及字段类型，以节省空间。

## 表设计
1. 尽量满足三范式，也可以适当违反三范式，达到空间换时间的效果。

 * 第一范式（原子性）：属性具有原子性，不可再分解。
 * 第二范式（唯一性）：记录有惟一标识，即实体的惟一性。
 * 第三范式（传递性）：任何字段不能由其他字段派生出来，它要求字段没有冗余。

2. 主键与外键。

	一般而言，一个实体不能既无主键又无外键。在E—R 图中, 处于叶子部位的实体, 可以定义主键，
	也可以不定义主键(因为它无子孙), 但必须要有外键(因为它有父亲)。
2. 要善于识别与正确处理多对多的关系。

	若两个实体之间存在多对多的关系，则应消除这种关系。消除的办法是，在两者之间增加第三个实
	体。这样，原来一个多对多的关系，现在变为两个一对多的关系。要将原来两个实体的属性合理地分配
	到三个实体中去。这里的第三个实体，实质上是一个较复杂的关系，它对应一张基本表。一般来讲，数
	据库设计工具不能识别多对多的关系，但能处理多对多的关系。
    
	【例】在“图书馆信息系统”中，“图书”是一个实体，“读者”也是一个实体。这两个实体之间的关系，是一个典型的多对多关系：一本图书在不同时间可以被多个读者借阅，一个读者又可以借多本图书。为此，要在二者之间增加第三个实体，该实体取名为“借还书”，它的属性为：借还时间、借还标志(0表示借书，1表示还书)，另外，它还应该有两个外键(“图书”的主键，“读者”的主键)，使它能与“图书”和“读者”连接。

3. 主键PK的取值方法。

	PK是供程序员使用的表间连接工具，可以是一无物理意义的数字串, 由程序自动加1来实现。也可以是有物理意义的字段名或字段名的组合。不过前者比后者好。当PK是字段名的组合时，建议字段的个数不要太多，多了不但索引占用空间大，而且速度也慢。

4. 视图技术在数据库设计中很有用。  
	视图是一个虚表，即视图所对应的数据不进行实际存储，数据库中只存储视图的定义，在对视图的数据进行操作时，系统根据视图的定义去操作与视图相关联的基本表。

 	视图可以屏蔽应用程序或数据库的变更。屏蔽敏感数据，保证数据安全。
	
	 * 如果应用建立在数据库表上，当数据库表发生变化时，可以在表上建立视图，通过视图屏蔽表的变化，从而应用程序可以不动。
	 * 如果应用建立在数据库表上，当应用发生变化时，可以在表上建立视图，通过视图屏蔽应用的变化，从而使数据库表不动。
	 * 如果应用建立在视图上，当数据库表发生变化时，可以在表上修改视图，通过视图屏蔽表的变化，从而应用程序可以不动。
	 * 如果应用建立在视图上，当应用发生变化时，可以在表上修改视图，通过视图屏蔽应用的变化，从而数据库可以不动。

5. 防止数据库设计打补丁的方法是“三少原则”。
 
	 * 一个数据库中表的个数越少越好。只有表的个数少了，才能说明系统的E--R图少而精，去掉了重复的多余的实体，形成了对客观世界的高度抽象，进行了系统的数据集成，防止了打补丁式的设计。
	 * 一个表中组合主键的字段个数越少越好。因为主键的作用，一是建主键索引，二是做为子表的外键，所以组合主键的字段个数少了，不仅节省了运行时间，而且节省了索引存储空间。
	 * 一个表中的字段个数越少越好。只有字段的个数少了，才能说明在系统中不存在数据重复，且很少有数据冗余，更重要的是“列变行”，这样就防止了将子表中的字段拉入到主表中去，在主表中留下许多空余的字段。“列变行”，就是将主表中的一部分内容拉出去，另外单独建一个子表。
6. 提高数据库运行效率的办法。

	 * 在数据库物理设计时，降低范式，增加冗余, 少用触发器, 多用存储过程。
	 * 当计算非常复杂、而且记录条数非常巨大时(例如一千万条)，复杂计算要先在数据库外面，以文件系统方式用C++语言计算处理完成之后，最后才入库追加到表中去。
	 * 发现某个表的记录太多，例如超过一千万条，则要对该表进行水平分割。水平分割的做法是，以该表主键PK的某个值为界线，将该表的记录水平分割为两个表。若发现某个表的字段太多，例如超过八十个，则垂直分割该表，将原来的一个表分解为两个表。
	 * 对数据库管理系统DBMS进行系统优化，即优化各种系统参数，如缓冲区个数。
	 * 在使用面向数据的SQL语言进行程序设计时，尽量采取优化算法。

## 注意事项

1. 删除时尽量逻辑删除，不做物理删除。
