时间 2020-08-19 11:44:44

## 简介
消息队列。
消息接收方式：推送。

### 集群

假设有 `A(磁盘节点)`、`B(磁盘节点)`、`C(内存节点)`三个Rabbit服务器组成集群。集群中每一个节点都有 交换器、队列和绑定的全部元数据。磁盘节点需要把元数据同步到磁盘中，内存节点只把元数据存储在内存中。在集群中创建交换器、队列、绑定的时候，所有的存活的磁盘节点保存成功之后能创建完成，如果没有磁盘节点则不能创建和修改这些信息。向磁盘中保存会耗费一定的时间，因此集群中注意磁盘节点的数量。

在集群中如果队列是持久化的，当队列所在的那个节点异常之后，则不能再创建原来的队列，需要等到原节点重新加入之后才能创建。如果队列不是持久化的，则节点异常之后，队列数据消失，此时可以在其它节点创建原来的队列。

镜像队列，创建队列的时候可以指定镜像队列的位置，指定之后对应的机器上会有一份该队列的备份，当主队列不能使用的时候，镜像队列会替代主队列提供服务。

### Warren

高可用机制，不同于集群。同一时间只有一个节点提供服务，当节点异常之后，其它的节点会替代异常节点提供服务，所有节点有相同的元数据。

### Shavel

Rabbit 服务之间的数据同步插件，负责将数据从一个服务器同步到另一个服务器。

